# Spring Boot Lambda Configuration
spring.application.name=ldc-loan-review-lambda
spring.profiles.active=lambda

# Disable Spring Boot autoconfiguration for datasource


# Spring Cloud Function Configuration
spring.cloud.function.definition=loanReviewRouter

# PostgreSQL Configuration - Lambda Environment
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${DATABASE_USER}
spring.datasource.password=${DATABASE_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration (manual)
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Logging Configuration
logging.level.root=INFO
logging.level.com.ldc.workflow=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# AWS Configuration
aws.region=${AWS_REGION:us-east-1}

# Parameter Store Configuration
parameter.store.prefix=/ldc-workflow

# Lambda Configuration
lambda.timeout=60
lambda.memory=512

# Vend/PPA Integration Configuration
vend.ppa.endpoint=${VEND_PPA_ENDPOINT:https://api.vend-ppa.example.com}
vend.ppa.timeout.seconds=${VEND_PPA_TIMEOUT_SECONDS:30}
vend.ppa.retry.attempts=${VEND_PPA_RETRY_ATTEMPTS:5}

# Business Rules Configuration
business.rules.allowed.review.types=LDC,Sec Policy,Conduit
business.rules.allowed.attribute.decisions=Pending,Reclass,Approved,Rejected,Repurchase

# Feature Flags
feature.flags.enable.vend.ppa.integration=${ENABLE_VEND_PPA_INTEGRATION:true}
feature.flags.enable.audit.logging=${ENABLE_AUDIT_LOGGING:true}
